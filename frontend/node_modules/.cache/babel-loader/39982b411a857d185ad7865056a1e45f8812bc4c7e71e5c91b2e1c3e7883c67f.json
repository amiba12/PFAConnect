{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amiba\\\\Desktop\\\\Projet stage 2025\\\\Gestion de PFA\\\\PFAConnet\\\\frontend\\\\src\\\\pages\\\\MessagesPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../api/axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessagesPage() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [projets, setProjets] = useState([]);\n  const [selectedProjet, setSelectedProjet] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [contenu, setContenu] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    loadUserAndData();\n  }, []);\n  const loadUserAndData = async () => {\n    try {\n      setLoading(true);\n      setError(\"\");\n\n      // Charger l'utilisateur\n      const userResponse = await api.get(\"/users/me\");\n      const currentUser = userResponse.data;\n      setUser(currentUser);\n      if (currentUser.role === \"ETUDIANT\") {\n        // Pour les √©tudiants : charger leur projet unique\n        try {\n          const projetResponse = await api.get(\"/projets/mon-projet\");\n          const projetData = projetResponse.data;\n          if (projetData && projetData.id) {\n            setSelectedProjet(projetData);\n            await loadMessagesForProjet(projetData.id);\n          } else {\n            setError(\"Vous n'avez pas de projet. Cr√©ez un projet pour utiliser la messagerie.\");\n          }\n        } catch (err) {\n          console.error(\"Erreur chargement projet √©tudiant\", err);\n          setError(\"Erreur lors du chargement de votre projet.\");\n        }\n      } else if (currentUser.role === \"ENCADRANT\") {\n        // Pour les encadrants : charger tous leurs projets\n        try {\n          const projetsResponse = await api.get(\"/projets/encadrant/mes-projets\");\n          const projetsData = Array.isArray(projetsResponse.data) ? projetsResponse.data : [];\n          setProjets(projetsData);\n          console.log(\"üìã Projets encadr√©s charg√©s:\", projetsData.length);\n          if (projetsData.length > 0) {\n            setSelectedProjet(projetsData[0]);\n            await loadMessagesForProjet(projetsData[0].id);\n          } else {\n            setError(\"Vous n'encadrez aucun projet pour le moment.\");\n          }\n        } catch (err) {\n          console.error(\"Erreur chargement projets encadrant\", err);\n          setError(\"Erreur lors du chargement des projets encadr√©s.\");\n        }\n      }\n    } catch (err) {\n      console.error(\"Erreur chargement utilisateur\", err);\n      setError(\"Impossible de charger vos informations. Veuillez vous reconnecter.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadMessagesForProjet = async projetId => {\n    try {\n      console.log(\"üì® Chargement des messages pour le projet:\", projetId);\n      const messagesResponse = await api.get(`/messages/projet/${projetId}`);\n      const messagesData = Array.isArray(messagesResponse.data) ? messagesResponse.data : [];\n      console.log(\"üì® Messages re√ßus:\", messagesData.length);\n      setMessages(messagesData);\n    } catch (err) {\n      console.error(\"Erreur chargement messages\", err);\n      setMessages([]);\n    }\n  };\n  const handleProjetChange = async projetId => {\n    const projet = projets.find(p => p.id == projetId);\n    if (projet) {\n      setSelectedProjet(projet);\n      await loadMessagesForProjet(projet.id);\n    }\n  };\n  const handleSend = async e => {\n    e.preventDefault();\n    if (!contenu || !selectedProjet) return;\n    console.log(\"üöÄ Envoi du message pour le projet:\", selectedProjet.id);\n    console.log(\"üìù Contenu du message:\", contenu);\n    try {\n      console.log(\"üì§ Envoi du message √† l'API...\");\n      await api.post(`/messages/ajouter/${selectedProjet.id}`, {\n        contenu\n      });\n      console.log(\"‚úÖ Message envoy√© avec succ√®s\");\n      setContenu(\"\");\n      console.log(\"üîÑ Rechargement des messages...\");\n      await loadMessagesForProjet(selectedProjet.id);\n      console.log(\"‚úÖ Message envoy√© et messages mis √† jour avec succ√®s\");\n    } catch (err) {\n      var _err$response;\n      console.error(\"‚ùå Erreur lors de l'envoi du message:\", err);\n      console.error(\"‚ùå D√©tails de l'erreur:\", (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n      alert(\"Erreur lors de l'envoi du message. Veuillez r√©essayer.\");\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Chargement...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 12\n    }, this);\n  }\n  if (!selectedProjet) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-warning\",\n      children: \"Aucun projet s\\xE9lectionn\\xE9.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow-sm animate__animated animate__fadeIn\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center justify-content-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"h5 m-0\",\n              children: \"Messagerie du projet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), user && user.role === \"ENCADRANT\" && projets.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"me-2\",\n                children: \"Projet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                style: {\n                  width: 280\n                },\n                value: selectedProjet.id,\n                onChange: e => handleProjetChange(e.target.value),\n                children: projets.map(projet => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: projet.id,\n                  children: projet.titre\n                }, projet.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded p-3 mb-3\",\n            style: {\n              maxHeight: 320,\n              overflowY: \"auto\"\n            },\n            children: [messages.map(m => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: [m.auteur && m.auteur.nom, \" :\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this), \" \", m.contenu, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-muted\",\n                style: {\n                  fontSize: 12\n                },\n                children: new Date(m.date).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 67\n              }, this)]\n            }, m.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this)), messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-muted\",\n              children: \"Aucun message pour le moment.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSend,\n            className: \"d-flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              value: contenu,\n              onChange: e => setContenu(e.target.value),\n              placeholder: \"Votre message\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Envoyer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n_s(MessagesPage, \"TNhsGxOdbvROGZ4YzZuNW/xN3tk=\");\n_c = MessagesPage;\nexport default MessagesPage;\nvar _c;\n$RefreshReg$(_c, \"MessagesPage\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","MessagesPage","_s","user","setUser","projets","setProjets","selectedProjet","setSelectedProjet","messages","setMessages","contenu","setContenu","loading","setLoading","error","setError","loadUserAndData","userResponse","get","currentUser","data","role","projetResponse","projetData","id","loadMessagesForProjet","err","console","projetsResponse","projetsData","Array","isArray","log","length","projetId","messagesResponse","messagesData","handleProjetChange","projet","find","p","handleSend","e","preventDefault","post","_err$response","response","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","width","value","onChange","target","map","titre","maxHeight","overflowY","m","auteur","nom","fontSize","Date","date","toLocaleString","onSubmit","placeholder","required","type","_c","$RefreshReg$"],"sources":["C:/Users/amiba/Desktop/Projet stage 2025/Gestion de PFA/PFAConnet/frontend/src/pages/MessagesPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../api/axios\";\n\nfunction MessagesPage() {\n  const [user, setUser] = useState(null);\n  const [projets, setProjets] = useState([]);\n  const [selectedProjet, setSelectedProjet] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [contenu, setContenu] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    loadUserAndData();\n  }, []);\n\n  const loadUserAndData = async () => {\n    try {\n      setLoading(true);\n      setError(\"\");\n      \n      // Charger l'utilisateur\n      const userResponse = await api.get(\"/users/me\");\n      const currentUser = userResponse.data;\n      setUser(currentUser);\n      \n      if (currentUser.role === \"ETUDIANT\") {\n        // Pour les √©tudiants : charger leur projet unique\n        try {\n          const projetResponse = await api.get(\"/projets/mon-projet\");\n          const projetData = projetResponse.data;\n          if (projetData && projetData.id) {\n            setSelectedProjet(projetData);\n            await loadMessagesForProjet(projetData.id);\n          } else {\n            setError(\"Vous n'avez pas de projet. Cr√©ez un projet pour utiliser la messagerie.\");\n          }\n        } catch (err) {\n          console.error(\"Erreur chargement projet √©tudiant\", err);\n          setError(\"Erreur lors du chargement de votre projet.\");\n        }\n      } else if (currentUser.role === \"ENCADRANT\") {\n        // Pour les encadrants : charger tous leurs projets\n        try {\n          const projetsResponse = await api.get(\"/projets/encadrant/mes-projets\");\n          const projetsData = Array.isArray(projetsResponse.data) ? projetsResponse.data : [];\n          setProjets(projetsData);\n          console.log(\"üìã Projets encadr√©s charg√©s:\", projetsData.length);\n          \n          if (projetsData.length > 0) {\n            setSelectedProjet(projetsData[0]);\n            await loadMessagesForProjet(projetsData[0].id);\n          } else {\n            setError(\"Vous n'encadrez aucun projet pour le moment.\");\n          }\n        } catch (err) {\n          console.error(\"Erreur chargement projets encadrant\", err);\n          setError(\"Erreur lors du chargement des projets encadr√©s.\");\n        }\n      }\n    } catch (err) {\n      console.error(\"Erreur chargement utilisateur\", err);\n      setError(\"Impossible de charger vos informations. Veuillez vous reconnecter.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadMessagesForProjet = async (projetId) => {\n    try {\n      console.log(\"üì® Chargement des messages pour le projet:\", projetId);\n      const messagesResponse = await api.get(`/messages/projet/${projetId}`);\n      const messagesData = Array.isArray(messagesResponse.data) ? messagesResponse.data : [];\n      console.log(\"üì® Messages re√ßus:\", messagesData.length);\n      setMessages(messagesData);\n    } catch (err) {\n      console.error(\"Erreur chargement messages\", err);\n      setMessages([]);\n    }\n  };\n\n  const handleProjetChange = async (projetId) => {\n    const projet = projets.find(p => p.id == projetId);\n    if (projet) {\n      setSelectedProjet(projet);\n      await loadMessagesForProjet(projet.id);\n    }\n  };\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!contenu || !selectedProjet) return;\n    \n    console.log(\"üöÄ Envoi du message pour le projet:\", selectedProjet.id);\n    console.log(\"üìù Contenu du message:\", contenu);\n    \n    try {\n      console.log(\"üì§ Envoi du message √† l'API...\");\n      await api.post(`/messages/ajouter/${selectedProjet.id}`, { contenu });\n      console.log(\"‚úÖ Message envoy√© avec succ√®s\");\n      setContenu(\"\");\n      \n      console.log(\"üîÑ Rechargement des messages...\");\n      await loadMessagesForProjet(selectedProjet.id);\n      console.log(\"‚úÖ Message envoy√© et messages mis √† jour avec succ√®s\");\n    } catch (err) {\n      console.error(\"‚ùå Erreur lors de l'envoi du message:\", err);\n      console.error(\"‚ùå D√©tails de l'erreur:\", err.response?.data);\n      alert(\"Erreur lors de l'envoi du message. Veuillez r√©essayer.\");\n    }\n  };\n\n  if (loading) {\n    return <div>Chargement...</div>;\n  }\n\n  if (error) {\n    return <div className=\"alert alert-danger\">{error}</div>;\n  }\n\n  if (!selectedProjet) {\n    return <div className=\"alert alert-warning\">Aucun projet s√©lectionn√©.</div>;\n  }\n\n  return (\n    <div className=\"row justify-content-center\">\n      <div className=\"col-lg-10\">\n        <div className=\"card shadow-sm animate__animated animate__fadeIn\">\n          <div className=\"card-body\">\n            <div className=\"d-flex align-items-center justify-content-between mb-3\">\n              <h2 className=\"h5 m-0\">Messagerie du projet</h2>\n              {user && user.role === \"ENCADRANT\" && projets.length > 0 && (\n                <div className=\"d-flex align-items-center\">\n                  <label className=\"me-2\">Projet</label>\n                  <select \n                    className=\"form-select\"\n                    style={{ width: 280 }}\n                    value={selectedProjet.id} \n                    onChange={(e) => handleProjetChange(e.target.value)}\n                  >\n                    {projets.map((projet) => (\n                      <option key={projet.id} value={projet.id}>\n                        {projet.titre}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n            </div>\n\n            <div className=\"border rounded p-3 mb-3\" style={{ maxHeight: 320, overflowY: \"auto\" }}>\n              {messages.map((m) => (\n                <div key={m.id} className=\"mb-2\">\n                  <b>{m.auteur && m.auteur.nom} :</b> {m.contenu} <span className=\"text-muted\" style={{ fontSize: 12 }}>{new Date(m.date).toLocaleString()}</span>\n                </div>\n              ))}\n              {messages.length === 0 && <div className=\"text-muted\">Aucun message pour le moment.</div>}\n            </div>\n\n            <form onSubmit={handleSend} className=\"d-flex gap-2\">\n              <input\n                className=\"form-control\"\n                value={contenu}\n                onChange={(e) => setContenu(e.target.value)}\n                placeholder=\"Votre message\"\n                required\n              />\n              <button type=\"submit\" className=\"btn btn-primary\">Envoyer</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MessagesPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}